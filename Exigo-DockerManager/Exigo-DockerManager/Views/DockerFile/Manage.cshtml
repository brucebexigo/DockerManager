@{
    ViewBag.Title = "Manage";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@model Exigo_DockerManager.Models.DockerFileViewModel.DockerFile

@Html.AntiForgeryToken()
<h2>Manage DockerFile</h2>

<div class="row">
    
    <div class="col-md-8">
        <section id="dockerfile">
            @using (Html.BeginForm("Manage", "DockerFile", FormMethod.Post, new { @class = "form-horizontal", role = "form" }))
            {
                @Html.HiddenFor(m => m.DockerFileId)
                <div class="form-group">
                    @Html.LabelFor(m => m.Tag, new { @class = "col-md-2 control-label" })
                    <div class="col-md-10">
                        @Html.TextBoxFor(m => m.Tag, new { @class = "form-control" })
                    </div>
                </div>

                <div class="form-group">
                    @Html.LabelFor(m => m.Content, new { @class = "col-md-2 control-label" })
                    <div class="col-md-10">
                        @Html.EditorFor(m => m.Content, new { @class = "form-control" })
                    </div>
                </div>
                <div class="form-group">
                    @Html.LabelFor(m => m.DateUpdated, new { @class = "col-md-2 control-label" })
                    <div class="col-md-10">
                        @Model.DateUpdated
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-md-offset-2 col-md-10">
                        <input type="submit" value="Save changes" class="btn btn-primary" /> <a href="~/DockerFile/Build" class="btn btn-default">Queue Build</a>
                    </div>
                </div>
            }
            
        </section>
    <hr />
        <section id="builds">
            <table style="width:100%;">
                <thead>
                    <tr>
                        <th>
                            Build Id
                        </th>
                        <th>
                            Started
                        </th>
                        <th>
                            Completed
                        </th>
                        <th>
                            Status
                        </th>
                        <th>
                            Tags
                        </th>
                        <th>

                        </th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var build in Model.Builds)
                    {
                        <tr>
                            <td>
                                @build.BuildId
                            </td>
                            <td>
                                @build.DateStarted
                            </td>
                            <td>
                                @build.DateComplete
                            </td>
                            <td>
                                @build.Tags
                            </td>
                            <td>
                                details
                            </td>
                        </tr>
                    }
                </tbody>

            </table>
        </section>

    </div>
</div>
